<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<head>
    <title>业务方法</title>
</head>
<link rel="stylesheet" type="text/css" href="/page/css/easyui/themes/default/easyui.css">

<script type="text/javascript" src="/page/js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/page/js/easyui/jquery.easyui.min.js"></script>
<body>

<div>
    <table id="table" class="easyui-datagrid">
        <thead>
        <tr>
            <th field="lastUpdateBy" data-options="width:'20%'">最后修改人</th>
            <th field="lastUpdateByCode" data-options="width:'20%'">最后修改人编号</th>
            <th field="lastUpdate" data-options="width:'20%'">最后修改时间</th>
            <th field="methodName" formatter="methodFormatter" data-options="width:'20%'">方法名</th>
        </tr>
        </thead>
    </table>
</div>

<div style="width: 100%;height: 800px">
    <iframe id="diffIframe" src="/diff/index" style="width: 100%;height: 800px"></iframe>
</div>
</body>
<script type="text/javascript">
    var $table = null;
    $(function(){

        $table = $("#table").datagrid({
            title: '',
            data: [
                {
                    lastUpdateBy: 'easyui',
                    lastUpdateByCode: 'ho',
                    lastUpdate:"",
                    methodName:"methodFormatter"
                }
            ]
            // url: 'BusinessService.json',
        });
    });

    /*

    */
    function methodFormatter(val,row){
        if(val != null){
            return `<a  class='easyui-tooltip' href='javascript:void(0)' onClick='methodTransform(${row.id})'>${val}</a>`;
        }
    }

    function methodTransform(methodId){

    }

    function sendScript(){

        var $diff = $("#diffIframe")[0].contentWindow;

        $diff.setScript("1","2");

        /*$.ajax({

        });*/
    }
</script>
</html>